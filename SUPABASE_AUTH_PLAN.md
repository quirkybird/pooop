# Supabase Auth æ¥å…¥æ–¹æ¡ˆ

## ğŸ“¦ ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
# Supabase é…ç½®
VITE_SUPABASE_URL=ä½ çš„Supabaseé¡¹ç›®URL
VITE_SUPABASE_ANON_KEY=ä½ çš„SupabaseåŒ¿åå¯†é’¥

# åº”ç”¨é…ç½®
VITE_APP_NAME=Pooop
```

## ğŸ—„ï¸ æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

åœ¨ Supabase Dashboard çš„ SQL Editor ä¸­æ‰§è¡Œ `database/migrations/001_auth_setup.sql`

## ğŸ” è®¤è¯æµç¨‹

1. **é¦–æ¬¡æ‰“å¼€** â†’ æ£€æµ‹ Session
   - å·²ç™»å½• â†’ è¿›å…¥é¦–é¡µ
   - æœªç™»å½• â†’ è¿›å…¥ç™»å½•é¡µ

2. **ç™»å½•/æ³¨å†Œ**
   - é‚®ç®± + å¯†ç 
   - è‡ªåŠ¨åˆ›å»ºç”¨æˆ·èµ„æ–™

3. **ç»‘å®šä¼´ä¾£**
   - ç”Ÿæˆé‚€è¯·ç  æˆ– è¾“å…¥é‚€è¯·ç 
   - åŒæ–¹å¿…é¡»éƒ½å·²ç™»å½•

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ supabase.ts          # Supabase Client åˆå§‹åŒ–
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ useAuth.ts           # Auth çŠ¶æ€ç®¡ç†
â”œâ”€â”€ components/
â”‚   â””â”€â”€ AuthGuard.tsx        # è·¯ç”±å®ˆå«
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Login.tsx            # ç™»å½•é¡µ
â”‚   â””â”€â”€ Register.tsx         # æ³¨å†Œé¡µ
â”œâ”€â”€ services/
â”‚   â””â”€â”€ supabaseApi.ts       # çœŸå® API å®ç°
â””â”€â”€ types/
    â””â”€â”€ supabase.ts          # ç±»å‹å®šä¹‰æ‰©å±•
```

## ğŸš€ ä½¿ç”¨è¯´æ˜

1. åˆ›å»º Supabase é¡¹ç›®
2. å¤åˆ¶ URL å’Œ Anon Key åˆ° `.env`
3. æ‰§è¡Œ SQL è¿ç§»è„šæœ¬
4. è¿è¡Œ `pnpm install @supabase/supabase-js`
5. å¯åŠ¨é¡¹ç›®

## ğŸ”’ RLS ç­–ç•¥è¯´æ˜

æ‰€æœ‰æ•°æ®è¡¨éƒ½å¯ç”¨äº† RLSï¼Œç¡®ä¿ï¼š
- ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- ç”¨æˆ·å¯ä»¥è®¿é—®ä¼´ä¾£çš„æ•°æ®
- æœªç™»å½•ç”¨æˆ·æ— æ³•è®¿é—®ä»»ä½•æ•°æ®

## ğŸ“ æ³¨æ„äº‹é¡¹

- é¦–æ¬¡ä½¿ç”¨éœ€è¦æ³¨å†Œ
- é‚€è¯·ç åŒºåˆ†å¤§å°å†™
- ä¼šè¯ä¼šè‡ªåŠ¨æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰
